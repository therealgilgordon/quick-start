montageDefine("7a1ec3b","core/gate",{dependencies:["./core","./logger"],factory:function(t,e){var n=t("./core").Montage,a=t("./logger").logger("gate");e.Gate=n.specialize({constructor:{value:function(){this.super()}},init:{enumerable:!1,value:function(){return this.reset(),this}},initWithDelegate:{enumerable:!1,value:function(t){return this.reset(),this.delegate=t,this}},initWithDescriptor:{enumerable:!1,value:function(t){var e;this.reset();for(e in t)this.setField(e,t[e].value);return this}},count:{value:0},table:{value:null},getField:{enumerable:!1,value:function(t){var e=this.table;return!e||e[t]}},setField:{enumerable:!1,value:function(t,e){var n,i=this.table,s=this.count;i=i?i:this.table={},n=i[t],void 0!==n||e?n!==void 0&&n!==e?e?this.count--:this.count++:e&&a.isDebug&&a.debug(this,t+" was not set before."):this.count++,i[t]=!!e,0===this.count&&s>0?this.callDelegateMethod(!0):0===s&&this.count>0&&this.callDelegateMethod(!1)}},removeField:{enumerable:!1,value:function(t){var e=this.table,n=e[t];void 0===n||n||this.count--,delete e[t]}},delegate:{enumerable:!1,value:null},callDelegateMethod:{value:function(t){var e;this.delegate&&"function"==typeof(e=this.delegate["gateDidBecome"+(t?"True":"False")])&&e.call(this.delegate,this)},enumerable:!1},value:{enumerable:!1,get:function(){return 0===this.count}},reset:{enumerable:!1,value:function(){this.table={},this.count=0}},toString:{value:function(){var t,e,n=this._fields,a="";for(t=0;e=n[t];t++)a+=e+"["+(this._value&n[e])+"], ";return a}}})}});