montageDefine("7a1ec3b","core/logger",{dependencies:["./core"],factory:function(t,e){function n(t){var e=function(t){return this._color=t,this};for(var n in p)e[n]=function(e){return function(){return t.color(p[e])}}(n);t.color=e}var a,i,s,r,l,o,c,h,d=t("./core").Montage;i=e.loggers={},l=function(){var t,e=l.caller.caller;return t=e.name,""===t&&(t="anonymous"),t},o=function(t){if(t.getHours){var e=t.getHours(),n=t.getMinutes(),a=t.getSeconds();return(1===e.length?"0"+e:e)+":"+(1===n.length?"0"+n:n)+":"+(1===a.length?"0"+a:a)+"."+t.getMilliseconds()}},r=function(){},s=function(){console.log(arguments)},a=e.Logger=d.specialize({constructor:{value:function a(){this.super(),n(this)}},init:{value:function(t,e,n){if(this.name=t,this._onStateChange=e,this._storeState=!n,this._storeState&&h){var a=h.getItem("_montage_logger_"+t);a&&(this.isDebug="true"===a)}return e&&this._onStateChange("true"===a),this.isError=!0,this}},name:{value:null},buffer:{value:[],distinct:!0},buffered:{value:!1},flush:{value:function(){var t,e,n=this.buffer;for(e=0;t=n[e];e++)this._formattedLog(t);this.buffer.length=0}},isDebug:{get:function(){return this.debug!==r},set:function(t){this.debug=t?this._consoleLogMontage:r}},isError:{get:function(){return this.error!==r},set:function(t){this.error=t?this._consoleLogMontage:r}},_consoleLogMontage:{value:function(){var t=arguments[0],e=t._montage_metadata;new Date,e?(Array.prototype.shift.call(arguments),Array.prototype.unshift.call(arguments,e.objectName+"."+l(t)+"()"),this.buffered?this.buffer.push(arguments):this._formattedLog(arguments)):this.buffered?this.buffer.push(arguments):this._formattedLog(arguments)}},_formattedLog:{value:function(t){var e=t[0];m.isDebug&&"string"==typeof e&&Array.prototype.splice.call(t,0,1,"%c"+e,this._logCss),console.log.apply(console,t)}},__logCss:{value:null},_logCss:{get:function(){return null===this.__logCss&&(this.__logCss="",this.__logCss+=this._color?"color:"+this._color+";":"color:black;"),this.__logCss}},debug:{value:r},error:{value:r},toTimeString:{value:o},_storeState:{value:null},_onStateChange:{value:null}});var p={base03:"#002b36",base02:"#073642",base01:"#586e75",base00:"#657b83",base0:"#839496",base1:"#93a1a1",base2:"#eee8d5",base3:"#fdf6e3",yellow:"#b58900",orange:"#cb4b16",red:"#dc322f",magenta:"#d33682",violet:"#6c71c4",blue:"#268bd2",cyan:"#2aa198",green:"#859900"};e.logger=function(t,e,n){var s;return null==(s=i[t])&&(s=(new a).init(t,e,n),d.defineProperty(i,t,{value:s})),s},c=d.specialize({constructor:{value:function c(){this.super()}},init:{value:function(){return document.nativeAddEventListener?(document.nativeAddEventListener("keyup",this,!1),document.nativeAddEventListener("keydown",this,!1)):(document.addEventListener("keyup",this,!1),document.addEventListener("keydown",this,!1)),this}},inspectorElement:{value:null},m_dontRemove:{value:null},titleHeader:{value:null},shown:{value:!1},isCtrl:{value:!1},isAlt:{value:!1},keyup:{value:function(t){17==t.which&&(this.isCtrl=!1),18==t.which&&(this.isAlt=!1)}},keydown:{value:function(t){return 17==t.which&&(this.isCtrl=!0),18==t.which&&(this.isAlt=!0),76==t.which&&this.isCtrl===!0&&this.isAlt===!0?(this.shown?this.hideInspector():this.showInspector(),!1):void 0}},change:{value:function(t){var e=t.target.checked,n=t.target.value,a=i[n];a.isDebug=e,a._onStateChange&&a._onStateChange(e),a._storeState&&h&&h.setItem("_montage_logger_"+n,e)}},mouseup:{value:function(){this.hideInspector()}},showInspector:{value:function(){if(!this.inspectorElement){var t,e,n,a,s,r,l,o,c,d,p,u=0;for(this.m_dontRemove=document.getElementsByTagName("body")[0],this.inspectorElement=document.createElement("div"),this.inspectorElement.id="_montage_logger_inspector",e=document.createElement("div"),this.inspectorElement.appendChild(e),a=document.createElement("div"),e.appendChild(a),n=document.createElement("h1"),n.className="_montage_logger_inspector-title",n.textContent="Logger Inspector",this.titleHeader=n,a.appendChild(n),c=Object.keys(i),u=0;t=i[c[u]];u++)s=document.createElement("label"),r=document.createElement("input"),p=document.createElement("span"),s.className="_montage_logger_inspector-content",p.textContent=t.name,s.appendChild(r),s.appendChild(p),r.value=t.name,r.type="checkbox",r.checked=!!t.isDebug,o="_montage_logger_"+t.name,t._storeState&&h&&(l=h.getItem(o),null==l&&h.setItem(o,t.isDebug)),a.appendChild(s);d=document.createElement("style");var g="#_montage_logger_inspector {";g+="    border: 1px solid rgba(15,15,15,0.4);",g+="    position: fixed;",g+="    right: 25px;",g+="    top: 25px;",g+="    -webkit-border-radius: 5px;",g+="    color: #dddddd;",g+='    font: 10px "Lucida Grande","Lucida Sans", sans;',g+="    background:-webkit-gradient(linear, left top, left bottom, from(rgba(15,15,15,0.75)), to(rgba(15,15,15,0.95)) );",g+="    -webkit-box-shadow: 0 0 15px rgba(0,0,0,.3);",g+="    width: 250px;",g+="}",g+="#_montage_logger_inspector div {",g+="    -webkit-border-radius: 5px;",g+="    background: -webkit-gradient(radial, 100 -60, 0, 125 -50, 125, from(rgba(255,255,255,0.00)), to(rgba(0,0,0,.2)), color-stop(1, rgba(0,0,0,.2)));",g+="}",g+="#_montage_logger_inspector div div {",g+="    background: -webkit-gradient(linear, left top, left bottom, from(rgba(255,255,255,0.2)), to(rgba(0,0,0,.1)), color-stop(0.33, rgba(255,255,255,.01)), color-stop(0.33, rgba(50,50,50,1)) );",g+="    padding: 7px 10px;",g+="    -webkit-border-radius: 3px;",g+="    overflow-x: hidden;",g+="}",g+="._montage_logger_inspector-title {",g+="    color: rgba(255,255,255,0.9);",g+="    font-size: 13px;",g+="    margin: 0 0 11px 0;",g+="    padding: 0 0 0 5px;",g+="}",g+="._montage_logger_inspector-content {",g+="    padding: 0 0 0 20px;",g+="    margin: 0;",g+="    display: block;",g+="}",d.textContent=g,document.head.appendChild(d)}this.shown=!0,this.m_dontRemove.appendChild(this.inspectorElement),this.titleHeader.nativeAddEventListener("mouseup",this,!1),this.inspectorElement.nativeAddEventListener("change",this,!1)}},hideInspector:{value:function(){document.getElementById("_montage_logger_inspector")&&(this.shown=!1,this.m_dontRemove.removeChild(this.inspectorElement),this.titleHeader.nativeRemoveEventListener("mouseup",this,!1),this.inspectorElement.nativeRemoveEventListener("change",this,!1))}},handleEvent:{enumerable:!1,value:function(t){this[t.type]&&this[t.type](t)}}});var u=function(){(new c).init()};if("undefined"!=typeof window){try{h=window.localStorage}catch(g){console.log("Error accessing localStorage",g)}window.loggers=i,h&&u()}var m=e.logger("colors")}});